!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=148)}({110:function(t,e){t.exports=THREE},148:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(149);i.d(e,"ImprovedNoise",function(){return n.b}),i.d(e,"FirstPersonControls",function(){return n.a}),i.d(e,"worldWidth",function(){return n.p}),i.d(e,"worldDepth",function(){return n.m}),i.d(e,"worldHalfWidth",function(){return n.o}),i.d(e,"worldHalfDepth",function(){return n.n}),i.d(e,"clock",function(){return n.e}),i.d(e,"generateHeight",function(){return n.g}),i.d(e,"generateTexture",function(){return n.h}),i.d(e,"init",function(){return n.i}),i.d(e,"scene",function(){return n.l}),i.d(e,"renderer",function(){return n.k}),i.d(e,"controls",function(){return n.f}),i.d(e,"camera",function(){return n.d}),i.d(e,"render",function(){return n.j}),i.d(e,"animate",function(){return n.c})},149:function(t,e,i){"use strict";function n(t,e){for(var i=t*e|0,n=new Float64Array(i),o=d(),r=1,a=100*Math.random(),s=0;s<=3;s++){for(var h=0;h<=i-1;h++){var c=h%t|0,u=0|~~(h/t),l=o.noise(c/r,u/r,a)*r*1.75;n[h]=n[h]+Math.abs(l)}r*=5}return n}function o(t,e,i){var n=new u.Vector3(0,0,0),o=new u.Vector3(1,1,1).normalize(),r=document.createElement("canvas");r.width=e,r.height=i;var a=r.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,e,i);for(var s=a.getImageData(0,0,r.width,r.height),h=s.data,c=0,d=0,l=0|~~h.length;c<l;){n.x=t[d-2]-t[d+2],n.y=2,n.z=t[d-2*e]-t[d+2*e],n.normalize();var f=n.dot(o);h[c]=(96+128*f)*(.5+.007*t[d]),h[c+1]=(32+96*f)*(.5+.007*t[d]),h[c+2]=96*f*(.5+.007*t[d]),c=c+4|0,d=d+1|0}a.putImageData(s,0,0);var m=document.createElement("canvas");m.width=4*e,m.height=4*i;var v=m.getContext("2d");v.scale(4,4),v.drawImage(r,0,0);for(var p=v.getImageData(0,0,m.width,m.height),w=p.data,g=0,M=0|~~w.length;g<M;){var E=~~~~(5*Math.random());w[g]=w[g]+E,w[g+1]=w[g+1]+E,w[g+2]=w[g+2]+E,g=g+4|0}return v.putImageData(p,0,0),m}function r(){var t=function(){return window.innerWidth},e=function(){return window.innerHeight},i=document.getElementById("container"),r=new u.PerspectiveCamera(60,t()/e(),1,2e4),a=new u.Scene,s=new u.WebGLRenderer;s.setClearColor("#bfd1e5"),s.setSize(t(),e());var h=s.domElement;i.innerHTML="",i.appendChild(h);var c=new l(r,h);c.movementSpeed=1e3,c.lookSpeed=.1;var d=n(f,m);r.position.y=10*d[v+p*f]+500;var w=new u.PlaneBufferGeometry(7500,7500,f-1,m-1);w.applyMatrix((new u.Matrix4).makeRotationX(-Math.PI/2));for(var g=w.getAttribute("position"),M=g.array,E=0|~~M.length,b=0,k=0;b<E;)M[k+1]=10*d[b],b=b+1|0,k=k+3|0;var y=o(d,f,m),x=new u.Texture(y,u.UVMapping,u.ClampToEdgeWrapping,u.ClampToEdgeWrapping);x.needsUpdate=!0;var H={};H.map=x;var L=new u.Mesh(w,new u.MeshBasicMaterial(H));a.add(L);var D=function(i){return r.aspect=t()/e(),r.updateProjectionMatrix(),s.setSize(t(),e()),c.handleResize(),null};return window.addEventListener("resize",function(t){return D()},!1),[s,a,r,c]}function a(){b.update(w.getDelta()),E.render(M,k)}function s(t){window.requestAnimationFrame(function(t){s(t)}),a()}i.d(e,"b",function(){return d}),i.d(e,"a",function(){return l}),i.d(e,"p",function(){return f}),i.d(e,"m",function(){return m}),i.d(e,"o",function(){return v}),i.d(e,"n",function(){return p}),i.d(e,"e",function(){return w}),e.g=n,e.h=o,e.i=r,i.d(e,"l",function(){return M}),i.d(e,"k",function(){return E}),i.d(e,"f",function(){return b}),i.d(e,"d",function(){return k}),e.j=a,e.c=s;var h=i(150),c=i(151),u=i(110),d=(i.n(u),h.a),l=c.a,f=256,m=256,v=~~(f/2),p=~~(m/2),w=new u.Clock,g=r(),M=g[1],E=g[0],b=g[3],k=g[2];s(0)},150:function(t,e,i){"use strict";function n(){function t(t){return t*t*t*(t*(6*t-15)+10)}function e(t,e,i){return e+t*(i-e)}function i(t,e,i,n){var o=15&t,r=o<8?e:i,a=o<4?i:12==o||14==o?e:n;return(0==(1&o)?r:-r)+(0==(2&o)?a:-a)}for(var n=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],o=0;o<256;o++)n[256+o]=n[o];return{noise:function(o,r,a){var s=~~o,h=~~r,c=~~a,u=255&s,d=255&h,l=255&c;o-=s,r-=h,a-=c;var f=o-1,m=r-1,v=a-1,p=t(o),w=t(r),g=t(a),M=n[u]+d,E=n[M]+l,b=n[M+1]+l,k=n[u+1]+d,y=n[k]+l,x=n[k+1]+l;return e(g,e(w,e(p,i(n[E],o,r,a),i(n[y],f,r,a)),e(p,i(n[b],o,m,a),i(n[x],f,m,a))),e(w,e(p,i(n[E+1],o,r,v),i(n[y+1],f,r,a-1)),e(p,i(n[b+1],o,m,v),i(n[x+1],f,m,v))))}}}e.a=n},151:function(t,e,i){"use strict";function n(t,e){function i(t){var e=t.getBoundingClientRect(),i=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||i.scrollTop,r=window.pageXOffset||n.scrollLeft||i.scrollLeft,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,h=e.top+o-a,c=e.left+r-s;return{top:Math.round(h),left:Math.round(c)}}function n(t,e){return function(){e.apply(t,arguments)}}this.object=t,this.target=new THREE.Vector3(0,0,0),this.domElement=void 0!==e?e:document,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.lat=0,this.lon=0,this.phi=0,this.theta=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.freeze=!1,this.mouseDragOn=!1,this.viewHalfX=0,this.viewHalfY=0,this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(t){if(this.domElement!==document&&this.domElement.focus(),t.preventDefault(),t.stopPropagation(),this.activeLook)switch(t.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}this.mouseDragOn=!0},this.onMouseUp=function(t){if(t.preventDefault(),t.stopPropagation(),this.activeLook)switch(t.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1},this.onMouseMove=function(t){if(this.domElement===document)this.mouseX=t.pageX-this.viewHalfX,this.mouseY=t.pageY-this.viewHalfY;else{var e=i(this.domElement);this.mouseX=t.pageX-e.left-this.viewHalfX,this.mouseY=t.pageY-e.top-this.viewHalfY}},this.onKeyDown=function(t){switch(t.keyCode){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this.moveLeft=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this.moveUp=!0;break;case 70:this.moveDown=!0;break;case 81:this.freeze=!this.freeze}},this.onKeyUp=function(t){switch(t.keyCode){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this.moveBackward=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this.moveUp=!1;break;case 70:this.moveDown=!1}},this.update=function(t){if(!this.freeze){if(this.heightSpeed){var e=THREE.Math.clamp(this.object.position.y,this.heightMin,this.heightMax),i=e-this.heightMin;this.autoSpeedFactor=t*(i*this.heightCoef)}else this.autoSpeedFactor=0;var n=t*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(n+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(n),this.moveLeft&&this.object.translateX(-n),this.moveRight&&this.object.translateX(n),this.moveUp&&this.object.translateY(n),this.moveDown&&this.object.translateY(-n);var o=t*this.lookSpeed;this.activeLook||(o=0);var r=1;this.constrainVertical&&(r=Math.PI/(this.verticalMax-this.verticalMin)),this.lon+=this.mouseX*o,this.lookVertical&&(this.lat-=this.mouseY*o*r),this.lat=Math.max(-85,Math.min(85,this.lat)),this.phi=THREE.Math.degToRad(90-this.lat),this.theta=THREE.Math.degToRad(this.lon),this.constrainVertical&&(this.phi=THREE.Math.mapLinear(this.phi,0,Math.PI,this.verticalMin,this.verticalMax));var a=this.target,s=this.object.position;a.x=s.x+100*Math.sin(this.phi)*Math.cos(this.theta),a.y=s.y+100*Math.cos(this.phi),a.z=s.z+100*Math.sin(this.phi)*Math.sin(this.theta),this.object.lookAt(a)}},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousemove",n(this,this.onMouseMove),!1),this.domElement.addEventListener("mousedown",n(this,this.onMouseDown),!1),this.domElement.addEventListener("mouseup",n(this,this.onMouseUp),!1),window.addEventListener("keydown",n(this,this.onKeyDown),!1),window.addEventListener("keyup",n(this,this.onKeyUp),!1),this.handleResize()}e.a=n}});
//# sourceMappingURL=bundle.js.map